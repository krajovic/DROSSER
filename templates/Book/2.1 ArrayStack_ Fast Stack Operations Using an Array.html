<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0073)http://opendatastructures.org/ods-python/2_1_ArrayStack_Fast_Stack_O.html -->
<html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>2.1 ArrayStack: Fast Stack Operations Using an Array</title>
<meta content="2.1 ArrayStack: Fast Stack Operations Using an Array" name="description"/>
<meta content="ods-python-html" name="keywords"/>
<meta content="document" name="resource-type"/>
<meta content="global" name="distribution"/>
<meta content="LaTeX2HTML v2008" name="Generator"/>
<meta content="text/css" http-equiv="Content-Style-Type"/>
<link href="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/ods-book.css" rel="STYLESHEET"/>
<link href="http://opendatastructures.org/ods-python/2_2_FastArrayStack_Optimize.html" rel="next"/>
<link href="http://opendatastructures.org/ods-python/2_Array_Based_Lists.html" rel="previous"/>
<link href="http://opendatastructures.org/ods-python/2_Array_Based_Lists.html" rel="up"/>
<link href="http://opendatastructures.org/ods-python/2_2_FastArrayStack_Optimize.html" rel="next"/>
</head>
<body bgcolor="#FFFFFF" text="#000000">
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<!--End of Table of Child-Links-->
<hr/>
<h1><a name="SECTION00510000000000000000"></a>
<a name="sec:arraystack"></a>
<br/>
<span class="arabic">2</span>.<span class="arabic">1</span> ArrayStack: Fast Stack Operations Using an Array
</h1>
<p>
<a name="4548"></a>An ArrayStack implements the list interface using an array <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img469.png" width="12"/></span>, called
the <span class="textit">backing array</span>.  The list element with index <!-- MATH
 $\ensuremath{\ensuremath{\mathit{i}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{i}}}$" border="0" height="30" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img470.png" width="9"/></span> is stored
in <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{i}}]}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{i}}]}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img471.png" width="27"/></span>.  At most times, <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img472.png" width="12"/></span> is larger than strictly necessary,
so an integer <!-- MATH
 $\ensuremath{\ensuremath{\mathit{n}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{n}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img473.png" width="13"/></span> is used to keep track of the number of elements
actually stored in <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img474.png" width="12"/></span>.  In this way, the list elements are stored in
<!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}[0]}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}[0]}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img475.png" width="31"/></span>,...,<!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{n}}-1]}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{n}}-1]}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img476.png" width="55"/></span> and, at all times, <!-- MATH
 $\ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}} \ge \ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}} \ge \ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img477.png" width="94"/></span>.
</p><p>
<br/>
<img align="BOTTOM" alt="\begin{leftbar}
\begin{flushleft}
\hspace*{1em} \ensuremath{\mathrm{initialize}(...
...th{\ensuremath{\mathit{n}} \gets \ensuremath{0}}\\
\end{flushleft}\end{leftbar}" border="0" height="82" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img478.png" width="181"/>
<br/>
</p><p>
</p><h2><a name="SECTION00511000000000000000">
<span class="arabic">2</span>.<span class="arabic">1</span>.<span class="arabic">1</span> The Basics</a>
</h2>
<p>
Accessing and modifying the elements of an ArrayStack using <!-- MATH
 $\ensuremath{\mathrm{get}(\ensuremath{\mathit{i}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{get}(\ensuremath{\mathit{i}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img479.png" width="41"/></span>
and <!-- MATH
 $\ensuremath{\mathrm{set}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{set}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img480.png" width="53"/></span> is trivial. After performing any necessary bounds-checking
we simply return or set, respectively, <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{i}}]}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{i}}]}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img481.png" width="27"/></span>.
</p><p>
<br/>
<img align="BOTTOM" alt="\begin{leftbar}
\begin{flushleft}
\hspace*{1em} \ensuremath{\mathrm{get}(\ensure...
...bf{return}} \ensuremath{\ensuremath{\mathit{y}}}\\
\end{flushleft}\end{leftbar}" border="0" height="163" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img482.png" width="133"/>
<br/>
</p><p>
The operations of adding and removing elements from an ArrayStack
are illustrated in FigureÂ <a href="http://opendatastructures.org/ods-python/2_1_ArrayStack_Fast_Stack_O.html#fig:arraystack">2.1</a>.  To implement the <!-- MATH
 $\ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img483.png" width="60"/></span>
operation, we first check if <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img484.png" width="12"/></span> is already full.  If so, we call
the method <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img485.png" width="55"/></span> to increase the size of <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img486.png" width="12"/></span>.  How <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img487.png" width="55"/></span>
is implemented will be discussed later.  For now, it is sufficient to
know that, after a call to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img488.png" width="55"/></span>, we can be sure that <!-- MATH
 $\ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}}
> \ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}}
&gt; \ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img489.png" width="94"/></span>.  With this out of the way, we now shift the elements
<!-- MATH
 $\ensuremath{\ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{i}}]}},\ldots,\ensuremath{\ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{n}}-1]}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{i}}]}},\ldots,\ensuremath{\ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{n}}-1]}}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img490.png" width="106"/></span> right by one position to make room for <!-- MATH
 $\ensuremath{\ensuremath{\mathit{x}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{x}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img491.png" width="12"/></span>,
set <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{i}}]}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{i}}]}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img492.png" width="27"/></span> equal to <!-- MATH
 $\ensuremath{\ensuremath{\mathit{x}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{x}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img493.png" width="12"/></span>, and increment <!-- MATH
 $\ensuremath{\ensuremath{\mathit{n}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{n}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img494.png" width="13"/></span>.
</p><p>
</p><div align="CENTER"><a name="fig:arraystack"></a><a name="10347"></a>
<table>
<caption align="BOTTOM"><strong>Figure 2.1:</strong>
A sequence of <!-- MATH
 $\ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img496.png" width="60"/></span> and <!-- MATH
 $\ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img497.png" width="72"/></span> operations on an
  ArrayStack.  Arrows denote elements being copied.  Operations that
  result in a call to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img498.png" width="55"/></span> are marked with an asterisk.</caption>
<tbody><tr><td>
<div align="CENTER">
<img align="BOTTOM" alt="\includegraphics[scale=0.90909]{figs-python/arraystack}" border="0" height="461" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img495.png" width="361"/>
</div></td></tr>
</tbody></table>
</div>
<p>
<br/>
<img align="BOTTOM" alt="\begin{leftbar}
\begin{flushleft}
\hspace*{1em} \ensuremath{\mathrm{add}(\ensure...
... \gets \ensuremath{\ensuremath{\mathit{n}} + 1}}\\
\end{flushleft}\end{leftbar}" border="0" height="120" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img499.png" width="319"/>
<br/>
If we ignore the cost of the potential call to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img500.png" width="55"/></span>, then the cost
of the <!-- MATH
 $\ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img501.png" width="60"/></span> operation is proportional to the number of elements we
have to shift to make room for <!-- MATH
 $\ensuremath{\ensuremath{\mathit{x}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{x}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img502.png" width="12"/></span>.  Therefore the cost of this operation
(ignoring the cost of resizing <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img503.png" width="12"/></span>) is <!-- MATH
 $O(\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}-\ensuremath{\ensuremath{\ensuremath{\mathit{i}}}})$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ O(\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}-\ensuremath{\ensuremath{\ensuremath{\mathit{i}}}})$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img504.png" width="56"/></span>.
</p><p>
Implementing the <!-- MATH
 $\ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img505.png" width="72"/></span> operation is similar.  We shift the elements
<!-- MATH
 $\ensuremath{\ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{i}}+1]}},\ldots,\ensuremath{\ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{n}}-1]}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{i}}+1]}},\ldots,\ensuremath{\ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{n}}-1]}}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img506.png" width="130"/></span> left by one position (overwriting <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{i}}]}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}[\ensuremath{\mathit{i}}]}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img507.png" width="27"/></span>) and
decrease the value of <!-- MATH
 $\ensuremath{\ensuremath{\mathit{n}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{n}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img508.png" width="13"/></span>.  After doing this, we check if <!-- MATH
 $\ensuremath{\ensuremath{\mathit{n}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{n}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img509.png" width="13"/></span> is getting
much smaller than <!-- MATH
 $\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img510.png" width="68"/></span> by checking if <!-- MATH
 $\ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}} \ge 3\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}} \ge 3\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img511.png" width="103"/></span>. If so,
then we call <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img512.png" width="55"/></span> to reduce the size of <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img513.png" width="12"/></span>.
</p><p>
<br/>
<img align="BOTTOM" alt="\begin{leftbar}
\begin{flushleft}
\hspace*{1em} \ensuremath{\mathrm{remove}(\ens...
...bf{return}} \ensuremath{\ensuremath{\mathit{x}}}\\
\end{flushleft}\end{leftbar}" border="0" height="140" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img514.png" width="343"/>
<br/>
If we ignore the cost of the <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img515.png" width="55"/></span> method, the cost of a <!-- MATH
 $\ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img516.png" width="72"/></span>
operation is proportional to the number of elements we shift, which
is <!-- MATH
 $O(\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}-\ensuremath{\ensuremath{\ensuremath{\mathit{i}}}})$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ O(\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}-\ensuremath{\ensuremath{\ensuremath{\mathit{i}}}})$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img517.png" width="56"/></span>.
</p><p>
</p><h2><a name="SECTION00512000000000000000">
<span class="arabic">2</span>.<span class="arabic">1</span>.<span class="arabic">2</span> Growing and Shrinking</a>
</h2>
<p>
The <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img518.png" width="55"/></span> method is fairly straightforward; it allocates a new
array <!-- MATH
 $\ensuremath{\ensuremath{\mathit{b}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{b}}}$" border="0" height="30" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img519.png" width="12"/></span> whose size is <!-- MATH
 $2\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ 2\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img520.png" width="22"/></span> and copies the <!-- MATH
 $\ensuremath{\ensuremath{\mathit{n}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{n}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img521.png" width="13"/></span> elements of <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img522.png" width="12"/></span> into
the first <!-- MATH
 $\ensuremath{\ensuremath{\mathit{n}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{n}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img523.png" width="13"/></span> positions in <!-- MATH
 $\ensuremath{\ensuremath{\mathit{b}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{b}}}$" border="0" height="30" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img524.png" width="12"/></span>, and then sets <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img525.png" width="12"/></span> to <!-- MATH
 $\ensuremath{\ensuremath{\mathit{b}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{b}}}$" border="0" height="30" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img526.png" width="12"/></span>. Thus, after a call to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img527.png" width="55"/></span>, <!-- MATH
 $\ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}} = 2\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}} = 2\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img528.png" width="103"/></span>.
</p><p>
<br/>
<img align="BOTTOM" alt="\begin{leftbar}
\begin{flushleft}
\hspace*{1em} \ensuremath{\mathrm{resize}()}\\...
...th{\ensuremath{\mathit{a}} \gets \ensuremath{b}}\\
\end{flushleft}\end{leftbar}" border="0" height="101" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img529.png" width="287"/>
<br/>
</p><p>
Analyzing the actual cost of the <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img530.png" width="55"/></span> operation is easy. It
allocates an array <!-- MATH
 $\ensuremath{\ensuremath{\mathit{b}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{b}}}$" border="0" height="30" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img531.png" width="12"/></span> of size <!-- MATH
 $2\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ 2\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img532.png" width="22"/></span> and copies the <!-- MATH
 $\ensuremath{\ensuremath{\mathit{n}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{n}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img533.png" width="13"/></span> elements of <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img534.png" width="12"/></span>
into <!-- MATH
 $\ensuremath{\ensuremath{\mathit{b}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{b}}}$" border="0" height="30" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img535.png" width="12"/></span>.  This takes <!-- MATH
 $O(\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}})$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ O(\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}})$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img536.png" width="36"/></span> time.
</p><p>
The running time analysis from the previous section ignored the cost
of calls to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img537.png" width="55"/></span>.  In this section we analyze this cost using a
technique known as <span class="textit">amortized analysis</span>.  This technique does not
try to determine the cost of resizing during each individual <!-- MATH
 $\ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img538.png" width="60"/></span>
and <!-- MATH
 $\ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img539.png" width="72"/></span> operation.  Instead, it considers the cost of all calls to
<!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img540.png" width="55"/></span> during a sequence of <span class="MATH"><img align="MIDDLE" alt="$ m$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img541.png" width="17"/></span> calls to <!-- MATH
 $\ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img542.png" width="60"/></span> or <!-- MATH
 $\ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img543.png" width="72"/></span>.
In particular, we will show:
</p><p>
</p><p>
</p><div><a name="lem:arraystack-amortized"><b>Lemma  <span class="arabic">2</span>..<span class="arabic">1</span></b></a> Â  
<i>If an empty ArrayStack is created and any sequence of <span class="MATH"><img align="MIDDLE" alt="$ m\ge 1$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img544.png" width="43"/></span> calls
  to <!-- MATH
 $\ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img545.png" width="60"/></span> and <!-- MATH
 $\ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img546.png" width="72"/></span> are performed, then the total time spent
  during all calls to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img547.png" width="55"/></span> is <span class="MATH"><img align="MIDDLE" alt="$ O(m)$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img548.png" width="40"/></span>.</i></div><p></p>
<p>
</p><p></p>
<div><i>Proof</i>.
  We will show that any time <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img550.png" width="55"/></span> is called, the number of calls
  to <!-- MATH
 $\ensuremath{\ensuremath{\mathit{add}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{add}}}$" border="0" height="30" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img551.png" width="28"/></span> or <!-- MATH
 $\ensuremath{\ensuremath{\mathit{remove}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{remove}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img552.png" width="51"/></span> since the last call to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img553.png" width="55"/></span> is at least
  <!-- MATH
 $\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}/2-1$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}/2-1$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img554.png" width="52"/></span>.  Therefore, if <!-- MATH
 $\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img555.png" width="18"/></span> denotes the value of <!-- MATH
 $\ensuremath{\ensuremath{\mathit{n}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{n}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img556.png" width="13"/></span> during the
  <span class="MATH"><img align="MIDDLE" alt="$ i$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img557.png" width="10"/></span>th call to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img558.png" width="55"/></span> and <span class="MATH"><img align="MIDDLE" alt="$ r$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img559.png" width="11"/></span> denotes the number of calls to
  <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img560.png" width="55"/></span>, then the total number of calls to <!-- MATH
 $\ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img561.png" width="60"/></span> or
  <!-- MATH
 $\ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img562.png" width="72"/></span> is at least
  <p><!-- MATH
 \begin{displaymath}
\sum_{i=1}^{r} (\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i/2-1) \le m  \enspace ,
\end{displaymath}
 -->
</p>
<div align="CENTER" class="mathdisplay">
<img align="MIDDLE" alt="$\displaystyle \sum_{i=1}^{r} (\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i/2-1) \le m \enspace ,
$" border="0" height="62" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img563.png" width="133"/>
</div><p></p>
which is equivalent to
  <p><!-- MATH
 \begin{displaymath}
\sum_{i=1}^{r} \ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i \le 2m + 2r  \enspace .
\end{displaymath}
 -->
</p>
<div align="CENTER" class="mathdisplay">
<img align="MIDDLE" alt="$\displaystyle \sum_{i=1}^{r} \ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i \le 2m + 2r \enspace .
$" border="0" height="62" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img564.png" width="125"/>
</div><p></p>
On the other hand, the total time spent during all calls to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img565.png" width="55"/></span> is 
  <p><!-- MATH
 \begin{displaymath}
\sum_{i=1}^{r} O(\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i) \le O(m+r) = O(m)  \enspace ,
\end{displaymath}
 -->
</p>
<div align="CENTER" class="mathdisplay">
<img align="MIDDLE" alt="$\displaystyle \sum_{i=1}^{r} O(\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i) \le O(m+r) = O(m) \enspace ,
$" border="0" height="62" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img566.png" width="208"/>
</div><p></p>
since <span class="MATH"><img align="MIDDLE" alt="$ r$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img567.png" width="11"/></span> is not more than <span class="MATH"><img align="MIDDLE" alt="$ m$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img568.png" width="17"/></span>.  All that remains is to show that the
  number of calls to <!-- MATH
 $\ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img569.png" width="60"/></span> or <!-- MATH
 $\ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img570.png" width="72"/></span> between the <span class="MATH"><img align="MIDDLE" alt="$ (i-1)$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img571.png" width="44"/></span>th
  and the <span class="MATH"><img align="MIDDLE" alt="$ i$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img572.png" width="10"/></span>th call to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img573.png" width="55"/></span> is at least <!-- MATH
 $\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i/2$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i/2$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img574.png" width="33"/></span>.
<p>
There are two cases to consider. In the first case, <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img575.png" width="55"/></span> is
  being called by <!-- MATH
 $\ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img576.png" width="60"/></span> because the backing array <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img577.png" width="12"/></span> is full, i.e.,
  <!-- MATH
 $\ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}} = \ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}=\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}} = \ensurema...
...h{\ensuremath{\mathit{n}}}}=\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img578.png" width="126"/></span>.  Consider the previous call to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img579.png" width="55"/></span>:
  after this previous call, the size of <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img580.png" width="12"/></span> was <!-- MATH
 $\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img581.png" width="68"/></span>, but the
  number of elements stored in <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img582.png" width="12"/></span> was at most <!-- MATH
 $\ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}}/2=\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i/2$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}}/2=\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i/2$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img583.png" width="129"/></span>.
  But now the number of elements stored in <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img584.png" width="12"/></span> is <!-- MATH
 $\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i=\ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i=\ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img585.png" width="99"/></span>,
  so there must have been at least <!-- MATH
 $\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i/2$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i/2$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img586.png" width="33"/></span> calls to <!-- MATH
 $\ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img587.png" width="60"/></span> since
  the previous call to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img588.png" width="55"/></span>.
  
</p><p>
The second case occurs when <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img589.png" width="55"/></span> is being called by
  <!-- MATH
 $\ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img590.png" width="72"/></span> because <!-- MATH
 $\ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}} \ge 3\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}=3\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}} \ge 3\ensur...
...{\ensuremath{\mathit{n}}}}=3\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img591.png" width="143"/></span>.  Again, after the
  previous call to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img592.png" width="55"/></span> the number of elements stored in <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img593.png" width="12"/></span> was
  at least <!-- MATH
 $\ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})/2}}-1$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})/2}}-1$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img594.png" width="106"/></span>.<a href="http://opendatastructures.org/ods-python/2_1_ArrayStack_Fast_Stack_O.html#foot10351" name="tex2html18"><sup><span class="arabic">2</span>.<span class="arabic">1</span></sup></a> Now there
  are <!-- MATH
 $\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i\le\ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}}/3$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i\le\ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}}/3$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img598.png" width="114"/></span> elements stored in <!-- MATH
 $\ensuremath{\ensuremath{\mathit{a}}}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathit{a}}}$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img599.png" width="12"/></span>.  Therefore, the number
  of <!-- MATH
 $\ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img600.png" width="72"/></span> operations since the last call to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img601.png" width="55"/></span> is at least
  </p><p></p>
<div align="CENTER" class="mathdisplay"><table align="CENTER" cellpadding="0" width="100%">
<tbody><tr valign="MIDDLE">
<td align="RIGHT" nowrap=""><span class="MATH"><img align="MIDDLE" alt="$\displaystyle R$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img602.png" width="15"/></span></td>
<td align="LEFT" nowrap=""><span class="MATH"><img align="MIDDLE" alt="$\displaystyle \ge \ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}}/2 - 1 - \ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}}/3$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img603.png" width="214"/></span></td>
<td align="RIGHT" class="eqno" nowrap="" width="10">
Â Â Â </td></tr>
<tr valign="MIDDLE">
<td>Â </td>
<td align="LEFT" nowrap=""><span class="MATH"><img align="MIDDLE" alt="$\displaystyle = \ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}}/6 - 1$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img604.png" width="120"/></span></td>
<td align="RIGHT" class="eqno" nowrap="" width="10">
Â Â Â </td></tr>
<tr valign="MIDDLE">
<td>Â </td>
<td align="LEFT" nowrap=""><span class="MATH"><img align="MIDDLE" alt="$\displaystyle = (\ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}}/3)/2 - 1$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img605.png" width="146"/></span></td>
<td align="RIGHT" class="eqno" nowrap="" width="10">
Â Â Â </td></tr>
<tr valign="MIDDLE">
<td>Â </td>
<td align="LEFT" nowrap=""><span class="MATH"><img align="MIDDLE" alt="$\displaystyle \ge \ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i/2 -1\enspace .$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img606.png" width="83"/></span></td>
<td align="RIGHT" class="eqno" nowrap="" width="10">
Â Â Â </td></tr>
</tbody></table></div>
<br clear="ALL"/><p></p>
In either case, the number of calls to <!-- MATH
 $\ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img607.png" width="60"/></span> or <!-- MATH
 $\ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img608.png" width="72"/></span> that
  occur between the <span class="MATH"><img align="MIDDLE" alt="$ (i-1)$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img609.png" width="44"/></span>th call to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img610.png" width="55"/></span> and the <span class="MATH"><img align="MIDDLE" alt="$ i$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img611.png" width="10"/></span>th call to
  <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img612.png" width="55"/></span> is at least <!-- MATH
 $\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i/2-1$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}_i/2-1$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img613.png" width="57"/></span>, as required to complete the proof.
 <img align="BOTTOM" alt="$ \qedsymbol$" border="0" height="14" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img549.png" width="17"/>
</div><p></p>
<p>
</p><h2><a name="SECTION00513000000000000000">
<span class="arabic">2</span>.<span class="arabic">1</span>.<span class="arabic">3</span> Summary</a>
</h2>
<p>
The following theorem summarizes the performance of an ArrayStack:
</p><p>
</p><p>
</p><div><a name="thm:arraystack"><b>Theorem  <span class="arabic">2</span>..<span class="arabic">1</span></b></a> Â  
<i>An ArrayStack implements the List interface.  Ignoring the cost of
  calls to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img614.png" width="55"/></span>, an ArrayStack supports the operations
  </i>
<ul>
<li><!-- MATH
 $\ensuremath{\mathrm{get}(\ensuremath{\mathit{i}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{get}(\ensuremath{\mathit{i}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img615.png" width="41"/></span> and <!-- MATH
 $\ensuremath{\mathrm{set}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{set}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img616.png" width="53"/></span> in <span class="MATH"><img align="MIDDLE" alt="$ O(1)$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img617.png" width="36"/></span> time per operation; and
</li>
<li><!-- MATH
 $\ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img618.png" width="60"/></span> and <!-- MATH
 $\ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img619.png" width="72"/></span> in <!-- MATH
 $O(1+\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}-\ensuremath{\ensuremath{\ensuremath{\mathit{i}}}})$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ O(1+\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}-\ensuremath{\ensuremath{\ensuremath{\mathit{i}}}})$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img620.png" width="80"/></span> time per operation.
  
</li>
</ul><i>
  Furthermore, beginning with an empty ArrayStack and performing any
  sequence of <span class="MATH"><img align="MIDDLE" alt="$ m$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img621.png" width="17"/></span> <!-- MATH
 $\ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{add}(\ensuremath{\mathit{i}},\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img622.png" width="60"/></span> and <!-- MATH
 $\ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{remove}(\ensuremath{\mathit{i}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img623.png" width="72"/></span> operations results in a
  total of <span class="MATH"><img align="MIDDLE" alt="$ O(m)$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img624.png" width="40"/></span> time spent during all calls to <!-- MATH
 $\ensuremath{\mathrm{resize}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{resize}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img625.png" width="55"/></span>.</i></div><p></p>
<p>
The ArrayStack is an efficient way to implement a Stack.
In particular, we can implement <!-- MATH
 $\ensuremath{\mathrm{push}(\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{push}(\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img626.png" width="58"/></span> as <!-- MATH
 $\ensuremath{\mathrm{add}(\ensuremath{\mathit{n}},\ensuremath{\mathit{x}})}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{add}(\ensuremath{\mathit{n}},\ensuremath{\mathit{x}})}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img627.png" width="64"/></span> and <!-- MATH
 $\ensuremath{\mathrm{pop}()}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{pop}()}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img628.png" width="42"/></span>
as <!-- MATH
 $\ensuremath{\mathrm{remove}(\ensuremath{\mathit{n}}-1)}$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\mathrm{remove}(\ensuremath{\mathit{n}}-1)}$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img629.png" width="100"/></span>, in which case these operations will run in <span class="MATH"><img align="MIDDLE" alt="$ O(1)$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img630.png" width="36"/></span>
amortized time.
</p><p>
<br/></p><hr/><h4>Footnotes</h4>
<dl>
<dt><a name="foot10351">....</a><a href="http://opendatastructures.org/ods-python/2_1_ArrayStack_Fast_Stack_O.html#tex2html18"><sup><span class="arabic">2</span>.<span class="arabic">1</span></sup></a></dt>
<dd>The <span class="MATH"><img align="MIDDLE" alt="$ {}-1$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img595.png" width="28"/></span> in this formula accounts for
  the special case that occurs when <!-- MATH
 $\ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}=0$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\ensuremath{\mathit{n}}}}=0$" border="0" height="29" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img596.png" width="39"/></span> and <!-- MATH
 $\ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}} = 1$
 -->
<span class="MATH"><img align="MIDDLE" alt="$ \ensuremath{\ensuremath{\mathrm{length}(\ensuremath{\mathit{a}})}} = 1$" border="0" height="31" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/img597.png" width="94"/></span>.
</dd>
</dl>
<!--End of Navigation Panel-->
<address>
<a href="http://opendatastructures.org/">opendatastructures.org</a>
<script async="" src="static/2.1 ArrayStack_ Fast Stack Operations Using an Array_files/ga.js" type="text/javascript"></script><script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-5860680-3']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript';ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
</address>
</body></html>